%% example LaTeX script including macro definitions and parameter tables generated from a parameter file
%% (Tom Tetzlaff, 2022)

\documentclass[10pt,a4paper,american]{article}
\usepackage{geometry}
\geometry{verbose,a4paper,tmargin=3cm,bmargin=3cm,lmargin=2cm,rmargin=2cm}
\usepackage{amsmath}
\usepackage[table]{xcolor}
\renewcommand\familydefault{cmss}
\usepackage[breaklinks=true,colorlinks=true,linkcolor=blue,citecolor=blue,urlcolor=blue,filecolor=blue]{hyperref}

\usepackage{cleveref}
\crefformat{table}{Table\,#2#1#3}

\begin{document}

\title{\texttt{dict2tex} example}
\author{Tom Tetzlaff}
\date{\today}

\maketitle
\tableofcontents

\section{LaTeX macros for parameter names}

%% macros definitions
\input{macros.tex}   %% generated by example.py from params.json

The following text examples use LaTeX macros for parameter names automatically generated from a dictionary provided in \texttt{params.json}:
\begin{itemize}
\item The size \PN of the network was chosen such that everybody is impressed.
\item Application of TTX is micked by setting the spike threshold \PVth to infinity.
\item The weight $\PJI=-\Pg\PJ$ of inhibitory synapses plays no role.
\end{itemize}
%%
For an overview, the generated macro definitions can be visualized in a table such as \cref{tab:macros_table}. The table is automatically generated from the parameter dictionary \texttt{params.json} using the configuration defined in \texttt{config.yml}. Note that macro names are preceded by a prefix (here ``\verb+P+'') to avoid potential collisions with other LaTeX functions. The prefix can be configured by defining \verb+macros_prefix+ in \texttt{config.yml}.
\begin{table}[ht!]
\begin{center}
  \parbox{0.8\linewidth}{       %% use parbox to define table width within latex
    \small%
    \centering%
    \renewcommand{\arraystretch}{1.5}%
    \noindent%
    \input{macros_table.tex} %% generated by example.py from params.json
    \caption{Macro definitions.}
    \label{tab:macros_table}
  }
\end{center}
\end{table}

\section{Parameter tables}
The following parameter \cref{tab:parameter_table} is automatically generated from the parameter dictionary \texttt{params.json} using the configuration defined in \texttt{config.yml}: 
\begin{table}[ht!]
\begin{center}
  \parbox{0.8\linewidth}{       %% use parbox to define table width within latex
    \small%
    \centering%
    \renewcommand{\arraystretch}{1.5}%
    \noindent%
    \input{parameter_table.tex} %% generated by example.py from params.json
    \caption{Model and simulation parameters. Secondary parameters derived from primary parameters are marked in gray.}
    \label{tab:parameter_table}
  }
\end{center}
\end{table}

\end{document}
 